---
title: "Pixar Films."
subtitle: "TidyTuesday Python Challenge: A collaboration with Posit"
---

```{python}
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import textwrap

# Load the data 

pixar_films = pd.read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-03-11/pixar_films.csv')
public_response = pd.read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-03-11/public_response.csv')


```

```{python}
# Clean data

# Sort films by Rotten Tomatoes score
sorted_films = public_response.sort_values(by="rotten_tomatoes", ascending=False)

# Set the plot size
plt.figure(figsize=(12, 8))

# Create a lollipop plot for Rotten Tomatoes score
plt.scatter(sorted_films["rotten_tomatoes"], sorted_films["film"], color='orange', s=100, label="Rotten Tomatoes")
# plt.plot(sorted_films["rotten_tomatoes"], sorted_films["film"], color="gray", lw=2)

# Create a lollipop plot for Metacritic score
plt.scatter(sorted_films["metacritic"], sorted_films["film"], color='green', s=100, label="Metacritic")
# plt.plot(sorted_films["metacritic"], sorted_films["film"], color="gray", lw=2)

# Create a lollipop plot for Critics' Choice score
plt.scatter(sorted_films["critics_choice"], sorted_films["film"], color='blue', s=100, label="Critics' Choice")
# plt.plot(sorted_films["critics_choice"], sorted_films["film"], color="gray", lw=2)

# Adding titles and labels
plt.title("Comparison of Pixar Films' Scores", fontsize=16)
plt.xlabel("Score (%)", fontsize=12)
plt.ylabel("Film", fontsize=12)

# Display legend
plt.legend()

# Display the plot
plt.show()




my_col = ['#3a5cbc', '#9291be', '#c15451', '#6F99AD', '#DF8F44', '#80796B']

# Plot
plt.figure(figsize=(7,7))

sns.scatterplot(
    data = df_melted, 
    x = "year", 
    y = "journal_wrapped", 
    size = "count", 
    sizes = (30, 300), 
    alpha = 0.7,
    hue = "journal", 
    palette = my_col,
    legend = False
)

# Add labels and title
plt.xlabel("")
plt.ylabel("")
plt.title(
    "Examining Racial and Ethnic Disparities in Reproductive Medicine", 
    fontsize = 15,
    pad = 35,
    x = 0.5
    )

# Add the subtitle for clarification
plt.text(x = 0.5, y = 1.045, 
        s = "Analyzing publications from top Ob/Gyn journals, \nwith point size reflecting the number of studies on racial and ethnic disparities.", 
        ha = 'center', 
        va = 'center', 
        fontsize = 10, 
        style = 'italic', 
        color = "#8C8380",
        transform = plt.gca().transAxes)

# Add a caption to the plot
plt.text(
    x = 0.85, y = -0.1,  # Adjust x, y to position the caption below the plot
    s = "Source: Academic Literature Dataset | Graphic: Natasa Anastasiadou", 
    ha = 'center', 
    va = 'center', 
    fontsize = 7, 
    style = 'italic', 
    color = "#8C8380", 
    transform = plt.gca().transAxes
)


# plt.xticks(rotation=45)
plt.xticks(ticks=sorted(df['year'].unique()), rotation = 90, fontsize = 8)
plt.yticks(fontsize = 8)


plt.show()

plt.savefig("plot.png", dpi = 600, bbox_inches='tight') 
```
